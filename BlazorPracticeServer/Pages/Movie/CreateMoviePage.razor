@page "/movie/create"
@inject NavigationManager NavigationManager
@inject IRepository Repository
@inject IMovieService MovieService   
@using BlazorPracticeServer.Components.MovieComp
@using BlazorPracticeServer.Services



<MovieForm Movie="Movie" OnValidSubmit="@(()=>CreateMovie(Movie))"/>

@code {
    public Movie Movie { get; set; } = new Movie();



    private void CreateMovie(Movie movie)
    {
        // saving movie..
        MovieService.RegisterMovieAsync(movie);
        Repository.Movies.Add(movie);
        NavigationManager.NavigateTo("/");
    }
}
