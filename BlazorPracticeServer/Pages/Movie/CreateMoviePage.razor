@page "/movie/create"
@inject NavigationManager NavigationManager
@inject IMovieService MovieService
@using BlazorPracticeServer.Components.MovieComp
@using BlazorPracticeServer.Models.Arguments
@using BlazorPracticeServer.Services



<MovieForm Movie="Movie" OnValidSubmit="CreateMovie" />

@code {
    public Movie Movie { get; set; } = new Movie();
    public OnMovieSubmitArgs OnMovieSubmitArgs { get; set; } = new OnMovieSubmitArgs();


    protected override void OnInitialized()
    {
        OnMovieSubmitArgs.Movie = Movie;
    }

    private async Task CreateMovie()
    {
        // saving movie..
        await MovieService.RegisterMovieAsync(Movie);
        
    }
}
