@page "/genre/create"
@using BlazorPracticeServer.Components.GenreComp
@using BlazorPracticeServer.Services
@using Microsoft.AspNetCore.Components.Authorization
@attribute [Authorize(Roles = "Admin")]

@inject NavigationManager NavigationManager

<GenreForm Genre="genre" OnValidSubmit="Create">
</GenreForm>


@code {
    [Inject]
    public IGenreService GenreService { get; set; }
    private Genre genre = new Genre();
    private async Task Create()
    {
        await GenreService.RegisterGenreAsync(genre);
        NavigationManager.NavigateTo("/genre");
    }
}
